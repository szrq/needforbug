<!--<include file="public+header">-->

<!--{script}-->
function saveAccess(){
	Dyhb.AjaxSubmit('form1','<!--{:Dyhb::U('role/set_action')}-->');
}
<!--{/script}-->

<script src="<!--{:__PUBLIC__}-->/js/admin/ManySelect.js" type="text/javascript"></script>

<!--{style}-->
.customMultipleSelect{
	overflow: auto;
	border: 2px inset white;
	margin-left:15px;
}-->
.customMultipleSelect_option{
	border-bottom: 1px solid #eeeeee;
	font: 10pt Tahoma;
	padding: 1px;
	padding-left: 20px;
}
<!--{/style}-->

	<section class="secondary_bar">
		<div class="breadcrumbs_container">
			<article class="breadcrumbs"><a href="<!--{:Dyhb::U('public/fmain')}-->"><!--<lang package='Template/Default/Common'>-->主页<!--</lang>--></a> <div class="breadcrumb_divider"></div> <a class="current"><!--<lang package='Template/Default/Role'>-->用户授权<!--</lang>--></a> <div class="breadcrumb_divider"></div> <a href="javascript:void(0);" onclick="adminctrlmenuAdd('<!--{:__SELF__}-->','<!--<lang package='Template/Default/Role'>-->用户授权<!--</lang>-->_<!--{$nGroupId}-->')" title="<!--<lang package='Template/Default/Common'>-->添加到快捷导航<!--</lang>-->">[+]</a></article>
		</div>
	</section>

	<section id="main" class="column">
		<article class="module width_full">
			<header><h3><!--<lang package='Template/Default/Common'>-->操作提示<!--</lang>--></h3></header>
			<div class="module_content">
				<ul>
					<li><!--<lang package='Template/Default/Role'>-->操作授权给各个操作进行授权<!--</lang>--></li>
				</ul>
			</div>
		</article>

		<article class="module width_full">
			<header><h3 class="tabs_involved"><!--<lang package='Template/Default/Role'>-->操作授权<!--</lang>--></h3>
				<ul class="tabs">
					<li><a href="<!--{:Dyhb::U('role/index')}-->"><!--<lang package='Template/Default/Role'>-->角色列表<!--</lang>--></a></li>
					<li class="active"><a href="<!--{:Dyhb::U('role/user?id='.$nGroupId )}-->"><!--<lang package='Template/Default/Role'>-->用户授权<!--</lang>--></a></li>
				</ul>
			</header>
			<form method="post" id="form1" name='form1'>
				<div class="module_content">
					<fieldset>
						<label><a href="<!--{:Dyhb::U('role/app?group_id='.$nGroupId)}-->"><!--<lang package='Template/Default/Role'>-->项目授权<!--</lang>--></a> | <a href="<!--{:Dyhb::U('role/module?group_id='.$nGroupId)}-->"><!--<lang package='Template/Default/Role'>-->模块授权<!--</lang>--></a> | <span><!--<lang package='Template/Default/Role'>-->操作授权<!--</lang>--></span></label>
					</fieldset>
					<fieldset>
						<label for="group_id"><!--<lang package='Template/Default/Role'>-->当前组<!--</lang>--></label>
						<select id="" name="group_id" onchange="location.href = Dyhb.U( 'role/action?group_id='+this.options[this.selectedIndex].value );">
							<option value="" ><!--<lang package='Template/Default/Role'>-->选择组<!--</lang>--></option>
							<!--<foreach for=arrGroupList>-->
							<option value="<!--{$key}-->" <!--{if $nSelectGroupId==$key}-->selected="selected"<!--{/if}-->><!--{$value}--></option>
							<!--</foreach>-->
						</select>
						<div class="description"><!--<lang package='Template/Default/Role'>-->系统组列表，下拉选择<!--</lang>--></div>
					</fieldset>
					<fieldset>
						<label for="groupAppId"><!--<lang package='Template/Default/Role'>-->当前应用<!--</lang>--></label>
						<select id="appId" name="appId" onchange="location.href = Dyhb.U( 'role/action?group_id=<!--{$nGroupId}-->&app_id='+this.options[this.selectedIndex].value );">
							<option value="" ><!--<lang package='Template/Default/Role'>-->选择应用<!--</lang>--></option>
							<!--<foreach for=arrAppList>-->
							<option value="<!--{$key}-->" <!--{if $nSelectAppId==$key}-->selected="selected"<!--{/if}-->><!--{$value}--></option>
							<!--</foreach>-->
						</select>
						<div class="description"><!--<lang package='Template/Default/Role'>-->选中组的应用列表<!--</lang>--></div>
					</fieldset>
					<fieldset>
						<label for="groupModuleId"><!--<lang package='Template/Default/Role'>-->模块<!--</lang>--></label>
						<select id="moduleId" name="moduleId" onchange="location.href = Dyhb.U( 'role/action?group_id=<!--{$nGroupId}-->&app_id=<!--{$nAppId}-->&module_id='+this.options[this.selectedIndex].value );">
							<option value=""><!--<lang package='Template/Default/Role'>-->选择模块<!--</lang>--></option>
							<!--<foreach for=arrModuleList>-->
							<option value="<!--{$key}-->" <!--{if $nSelectModuleId==$key}-->selected="selected"<!--{/if}-->><!--{$value}--></option>
							<!--</foreach>-->
						</select>
						<div class="description"><!--<lang package='Template/Default/Role'>-->选中应用的模块列表<!--</lang>--></div>
					</fieldset>
					<fieldset>
						<label for="groupActionId"><!--<lang package='Template/Default/Role'>-->方法<!--</lang>--></label>
						<select id="groupActionId" name="groupActionId[]" multiple="multiple" size="15" style="width: 200px; height: 200px">
							<!--<foreach for=arrActionList>-->
							<option <!--{if in_array($key,$arrGroupActionList)}-->selected="selected"<!--{/if}--> value="<!--{$key}-->"><!--{$value}--></option>
							<!--</foreach>-->
						</select>
						<div class="description"><!--<lang package='Template/Default/Role'>-->选中模块的方法列表<!--</lang>--></div>
					</fieldset>
				</div>
				<footer>
					<div class="submit_link">
						<input type="hidden" name="group_id" value="<!--{$nGroupId}-->" >
						<input type="hidden" name="ajax" value="1">
						<input type="button" onclick="selectAll()" value="<!--<lang package='Template/Default/Common'>-->全选<!--</lang>-->" class="alt_btn">
						<input type="button" onclick="inverSelect()" value="<!--<lang package='Template/Default/Common'>-->反选<!--</lang>-->" class="alt_btn">
						<input type="button" onclick="unSelectAll()" value="<!--<lang package='Template/Default/Common'>-->全否<!--</lang>-->" class="alt_btn">
						<input type="button" onclick="saveAccess()" value="<!--<lang package='Template/Default/Common'>-->保存<!--</lang>-->" class="alt_btn">
					</div>
				</footer>
			</form>
		</article>

		<div class="spacer"></div>
	</section>

<!--<include file="public+footer">-->