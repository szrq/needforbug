<!--<include file="public+header" />-->

<script src="<!--{:__PUBLIC__}-->/js/jquery/nakedpassword/naked_password.js" type="text/javascript"></script>
<!--{script}-->
$(document).ready(function(){
	$("#old_password,#user_password,#new_password").nakedPassword({path: "<!--{:__PUBLIC__}-->/js/jquery/nakedpassword/images/"});
});

function update(){
	$("#submit_button").attr("disabled","disabled");
	$("#submit_button").val('update...');
	Dyhb.AjaxSubmit('passwordUpd','<!--{:Dyhb::U('public/change_pass')}-->',null,complete);
}

function complete(data,status){
	$("#submit_button").attr("disabled", false);
	$("#submit_button").val("<!--<lang package='Template/Default/Common'>-->更新<!--</lang>-->");
}
<!--{/script}-->

	<section class="secondary_bar">
		<div class="breadcrumbs_container">
			<article class="breadcrumbs"><a href="<!--{:Dyhb::U('public/fmain')}-->"><!--<lang package='Template/Default/Common'>-->主页<!--</lang>--></a> <div class="breadcrumb_divider"></div> <a class="current"><!--<lang package='Template/Default/Public'>-->修改密码<!--</lang>--></a></article>
		</div>
	</section>

	<section id="main" class="column">
		<article class="module width_full">
			<header><h3 class="tabs_involved"><!--<lang package='Template/Default/Public'>-->修改密码<!--</lang>--></h3>
				<ul class="tabs">
					<li class="active"><a href="<!--{:Dyhb::U('public/password')}-->"><!--<lang package='Template/Default/Public'>-->修改密码<!--</lang>--></a></li>
					<li><a href="<!--{:Dyhb::U('avatar/index')}-->"><!--<lang package='Template/Default/Public'>-->修改头像<!--</lang>--></a></li>
					<li><a href="<!--{:Dyhb::U('public/information')}-->"><!--<lang package='Template/Default/Public'>-->修改资料<!--</lang>--></a></li>
				</ul>
			</header>
			<form action="<!--{:Dyhb::U('public/change_pass')}-->" method="post" id="passwordUpd">
				<div class="module_content">
					<fieldset><label for="old_password"><!--<lang package='Template/Default/Public'>-->旧密码<!--</lang>--></label>
						<input type="password" name="old_password" id="old_password" size="40" value=""/>
						<div class="description"><!--<lang package='Template/Default/Public'>-->用户以前使用的密码<!--</lang>--></div>
					</fieldset>
					<fieldset><label for="user_password"><!--<lang package='Template/Default/Public'>-->新密码<!--</lang>--></label>
						<input type="password" name="user_password" id="user_password" size="40" value=""/>
						<div class="description"><!--<lang package='Template/Default/Public'>-->当前需要修改的新密码<!--</lang>--></div>
					</fieldset>
					<fieldset>
						<label for="new_password"><!--<lang package='Template/Default/Public'>-->确认新密码<!--</lang>--></label>
						<input type="password" name="new_password" id="new_password" size="40" value=""/>
						<div class="description"><!--<lang package='Template/Default/Public'>-->新密码确认，保证密码正确输入<!--</lang>--></div>
					</fieldset>
					<fieldset><label for="seccode"><!--<lang package='Template/Default/Public'>-->验证码<!--</lang>--></label>
						<input type="text" name="seccode" size="10" id="seccode"/>
						<div class="description"><!--<lang package='Template/Default/Public'>-->修改密码验证码<!--</lang>-->
							<p><span id="seccodeImage"><img style="cursor:pointer" onclick="updateSeccode()" src="<!--{:Dyhb::U('public/seccode')}-->" /></span></p>
						</div>
					</fieldset>
				</div>
				<footer>
					<div class="submit_link">
						<input type="hidden" name="ajax" value="1">
						<input type="hidden" name="user_id" value="<!--{$nUserId}-->">
						<input id="submit_button" type="button" onclick="update()" class="alt_btn" value="<!--<lang package='Template/Default/Common'>-->更新<!--</lang>-->" />
						<input type="button" onClick="history.back()" class="alt_btn" value="<!--<lang package='Template/Default/Common'>-->取消<!--</lang>-->" />
					</div>
				</footer>
			</form>
		</article>

		<div class="spacer"></div>
	</section>

<!--<include file="public+footer">-->